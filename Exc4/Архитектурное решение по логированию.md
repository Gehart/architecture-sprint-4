## Архитектурное решение по логированию

### Мотивация

Логирование позволит сохранить важную контекстную информацию при выполнении операций, что поможет при анализе проблем. Самый простой способ улучшить наблюдаемость системы. 

Логирование прежде всего лучше добавить для MES API, т.к. даже для проприетарной системы добавить логирование возможно с наименьшими затратами. Если жестко стоит вопрос об отказе от трейсов, я бы предложил отказаться от них и в CRM API, оставив там только логи. Для Shop API предпочительны трейсы, т.к. у этой системы больше всего внешних интеграций.

В целом, я бы склонялся к внедрению логов и трейсов для каждой из систем

### Предлагаемое решение

Для логирования будет удобно использовать ELK стек.

В логах по возможности не должны храниться чувствительные данные. Доступ должен быть ограничен, например, только техподдержкой и разработчиками.

Для каждой из систем лучше настроить свою политику сохранения данных. Лучше всех, если время хранения будет чуть дольше времени "жизни" заказа от момента его создания до выдачи готового изделия клиенту. Срок около 2 месяцев выглядит реалистично.

Алертинг можно настроить, но во второстепенную очередь - лучше использовать специализированные метрики или запросы в бд, это будет оптимальнее.


