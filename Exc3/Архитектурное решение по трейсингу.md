## Мотивация

- При возникновении проблем с заказом тех. поддержка и разработчики быстрее смогут разобраться с проблемой - по трейсу будет понятно точное место возникновения проблемы.
- По трейсам можно составить мнение о производительности системы.
- Позволит не создавать лишние логи в системе, что сократит затраты на их хранение

## Предлагаемое решение

Предлагаю добавить сбор трейсов для всех основных систем, которые взаимодействуют с заказом. Для сбора использовать OpenTelemetry стек, данные сохранять в хранилище Jaeger и отображать в Jaeger UI.

[Диаграмма](https://viewer.diagrams.net/?tags=%7B%7D&lightbox=1&highlight=0000ff&edit=_blank&layers=1&nav=1&title=jewerly_c4_model.drawio&dark=auto#R%3Cmxfile%3E%3Cdiagram%20name%3D%22Page-1%22%20id%3D%22q5gKrhV2WKv8pvfnoQvh%22%3E7V3rm5q4Gv9rfJ7dD87DRUA%2FOjqz257pdlrbc7b9FjAqLRI2xFH3rz9JSLiDio6XKeOzW3ghIeTye6956eij5eYPDILFBzSFXkdTppuOPu5omqZYPfoPo2wjimWqEWGO3WlEShEm7r9QEBVBXblTGGZuJAh5xA2yRAf5PnRIhgYwRuvsbTPkZZ8agDksECYO8IrU%2F7lTsoiofc1K6H9Cd76QT1bNQXRlCeTN4k3CBZiidYqkP3T0EUaIREfLzQh6rPNkv0TlHiuuxg3D0Cf7FDA%2B43%2FG70hff3H87%2Fr7yZP1vtvVRdvIVr4wnNL3F6cIkwWaIx94Dwn1HqOVP4WsVoWeJfc8IRRQokqJPyAhWzGYYEUQJS3I0hNX4cYlf6eOv7Gq7gxxNt6ImvnJNnXyDLG7hARiQQsJRj%2FhCHmIUTw2Ct0pwD9%2F62j646NO%2FzraiB4PDPb7nZYo9pnoxhCtsCN6wLTHM7i5H3%2F4Mbc%2BWsOH0br%2FV1fOPYDnkNR0qLiP9WLqAWJE%2FoCIth9v6Q0YeoC4L9lZBsRkncf3JeNJD8SQ8lNk%2F2DTnb6MBxy4oNMa4tyK6P0FlqL%2BDw8TShk%2Bv5OXvmwDcWmEfAJcn3aqvASdhU%2F7dC5WLOtBeW0MQwe7AXGRH13ssmrD0J37IT1CmLeCHvjsfwHEgCBGMGkdKhsydv9kwValpnhuyF4AzVIlMzeOgOesaDdBdneAXTpA4naygLJQ1DQP2NCLmkQr8egI3c%2Foi2WmtvnPCskL3ZBPziG9QTWDTXKRHs3Fv7wWOyEYokc1Q16kY2LnC1Ba9OQseeq%2BxCQjqoyPAa2MtyKiJF1P6cY4VWe6vGwarnvIob2g1vWCqMURSy19o%2F5gsl9ZWSM7YTL9VtZH%2BdfUUuhVvSizaJdCsgSnGNCsFy6BkwDwVb6mzCqLSaw9ArBUds4n1D1wfs55NRJkfOQzCJy5njeKO0PX9KE2HohaUvQZ%2F6N0QMGJrRiH4g6Dr3uAHfm0IpLRksqDNR6O6RWKA%2BBh6hLRTAzpkAGbvyIrGCDXJ3zdG2xeKXesk0cK%2F4%2FNnxEnltGsIlFlZ7KGLLGMZhllVaolz87TtBJiaZUlz1ZyjTTGdbj%2BAjGBm1okFlcNXfBpAXv9gThfJ2xf6wnaIs3yJYM%2FAL3pqQDwJmAOw5CKHQwUP63gCjbA9M%2FAtl3y4VMlrk%2BgP2VCTPIoYKMVa6IP1ym8HrHiC%2BBH93BsDgkgq5Cf25CsIfQj8SxqkSizAOx6COn4AI%2FLdIHrhG8Dy02wZODi22Egn9UC%2B2HArtUCO5Wk%2BUx3tp5LER7rDEEFmhq8tzBdTtFcpoIdW7274N%2BOeMWTLQlZIbc5N5Aorx3CHfZmBwX4Pz2onxqq8xzsBNCt9npZ7DZ714rd79gI%2B5BEYnDQALr%2FywCfQSgrM%2BFrUJwvMIQ%2FwkpI%2FxqyShUH%2BFw7%2FckkaH4sxGhWxyrwEGDAr3P0j7R5dmGN8E%2B2aH15DdJJiN6I8N0C9tGAre8F2MvNnFmJ7pze3Rra98w6A3E847VXhukCqqpqfzga1wB4dYnUFS0H0Y1Rv8X2MrFcy0K7Zu4L7ea5xXJmYzlcEofAEQBOaKlQAHoFhgcYvbhTyJGYTpoZ4CYRgvhrMitMnRFmxI2Q1baXFspbKKdQ3muhvIXyV4HynIVFVazzYXnBHVKud0pfzVn9IZV9u9MrYXQKXonqNX11XomPgjcV2eYzLcbArYINfqHaS%2BxvkGpJpKKMuHLjryhrJCvM7%2FoB1xB7244c3FvmcTfCvhz%2BdxH2ZdSyrxqL%2FxSEi3gVlzGvHGtR%2BvqjZZSxFsXUVWNUwy9KmGjAZ7x2SmZyFTb712Im%2FSwvGZSpBUoZK%2BmfWS0YrUJCn3A4yGWWSSSpww2zHnGDeTRf7lpEe%2FuIZp4L0cyR2bOsMkTrjdmvRbQzIppmXCui8TASZRW2mNZiWlNMs1pM%2BwUxzVLOh2lFhf%2Fp6%2F3fxPgXfx11h%2BT56fO7d5vLxj8mMY%2FfUlf2j3%2Bk44K3UUWaIc%2B%2FpS8mdfGzbfrsktGU%2FRK7RdnwnDyaUhR9ZqszmaZqbGCS6kQvN%2F%2BilopiyRQcYgy2qdvEqq9%2BkJLzVPeUXNDurgLmwKgvEEdOlxegB1GjkyUU92PZqtovjNi8xDI66fS7oWDeKHCgYTTvJMCuP79nUedVQhoLvU0cTWlPURg9mTLdZT5WF0MH0h4IY8lQmUOfmffoCDNDXUcGF%2FBzHkJAOTXM1RKCl8i5NUN4CYSYKCPPpLVvhtGStTxWrLngGLCQn5d0hbcvR7aRwU3ly36tfNlGBqdlyDYyuF6IHeQ4aizVXl102ejzhwYsIRNRtiMAoUSBX0OKdIodeYA7qVBfxhUQg%2FhHOjcD5Ieu7Xou2b4BBb8NNTgJSg9qUboNNWhDDRpCdj7UID6%2FRKRBqWph3LLh4awbL5WbVtY4S349Xa2EH%2F8q%2FLdVjJqwXFXp1PHcVjNqNaMDNt4ogxyfLXNaXoVqJIxm4%2FsGOPyMQjLHcPLpqRKH%2F6SPZ7avJeCxaOUGLLGJZu3SrknsV3xzJd9t6ZL0Jvo3Zsdq1aXjsbt%2Bv3vNtkitylvaboF8GwqPKh1JlzBS7RdbTcf%2FEipP4iNVB2Yn5SRV7xSl32ngKD2tLlOz0s%2BgzOw5dJdxk8dDlx42obueb9DKfNW3MGa9X3jM9D3HrH9dQ3YRN3oKIS3TyiBkk0FLbEzWsUYmgMmQpXBjcoHH9jc6kvzoesdHAeyNxtp1zRLrwrPEVDOzpKtQRtprMlVef4QvNcDNgoOsnAwno5AqY33yBSwB%2BqeK9Snv1P6F559xNEY1n1G9fYWBM0HGYUaQ9%2FFOuAlBmEXaTLYhgUt5Z2ITiegTBwXwng0dEK2gNw2DwHMdkMoVhWZkDQrVncNgkbIDlNRKdSfSFZolq9aDM1KhuBfNHiXGhUONIc2bJOwn6a6utZDsNh3Uu1qzZt%2B8XXeH4SAOyWYniZGW2xzSdoEqh6rJ%2F4rGgehvp%2BlBmg54V%2Br3TGemfeYNBdlGhKBlXAu3ruVbRF%2FN9edfOBQpCaEjLM3sBZ8BYfsUKInCH2d3eSszIoCkrcwpzGHpqIA%2F92AKiO599CRWSGxeeQbTafRchb%2BYh9ZDmcOWUUSS29RT4CZgtsPohD5mhUOKJp%2BhsPvwW2gbRYnYXgLxwwuMzCb8SXaIvBWBw8TCXmZZae3kGWQ9wB2dN87owv2bMs6ocaLgjHVG1YyDmUKzre%2BSBV6FvqidWWG0royv7zlmFzapXVTHH%2Bw7ZMp1jdmvbEsz9xwz%2FbqGTEy1F%2BCtoJRozz%2BGe6rL0J%2FKm4R8Qyni%2BnGjJ1nR9Sy5w9SfeNcBzz1LNSCW%2B7%2Bg%2BuwOy9G7Ngj5PoZcJQW3MLvOn5Z9NMvXRRaA%2Bxh5CkYb8kOR7nx6PgWqDdC5NievVp%2FApA3QaRWPA7Yu5A2EV%2BcV1i7s87ioOLS3fdo4NT9tZKA2jexs6utKbjq8grlZu7S74wRbqxOfmHacT6z5VNvXi%2F1KU60wlwZWdi719BzgRG9U2HFdsnfbUu6UfhbmBsrdwMzWd6Id3IPcTvHcBu5XWgP9ggISbaYNE6myZI0I%2B2J6Xhd4dt5cunSn02gJ1TLlcv5Uu4ALXCv%2BaJd4Sif9XawybtZV7nRLxqKI%2Fpe%2BuyOnYzc7gagGo2WrQLNZCEluqHcM7oERqrRcg5Q6URJFrleIwNJUPnfawTMXL6PIVJkUkVmY2ZfQcEd%2BSCnJ5XPLOseN6BYXzLqj1wf%2Ft8kRzyz7nyntTq9M6j9b2p3SifhLOxukqLNTGBucWhY74ccEp3aRVZ1yJ0VNDhCRyz7aLhHlvV9yb2Yx573YWZH6JpXIHhK9RCZxyK3zv3aXxWmYpFbLJHd9fKrdZfGWd1nIqOo4hf3enyM5l0FNv7B%2FMR0MKoxqSVTxSfjrq2eDK4yyqvbvlN6r2BNUNR%2F0ae4I%2BswXYK2rNkEUylvmIH6XfPLsHbaX02i8ibjwmY8T8sOFG1TKA48e4h%2BcnBVkgt8EK2eJwwj6vVOT3%2F%2FYCMHDahHwuqcsUMnNykSCA1lZ%2FbdcUp5i20POzy8L1%2B9UOpCUImPpKewX8xH5gXThhU75pAt8pq%2BxH7vPs3kDpB2qyHpoTbIJvY5wd6cJP1bLQKIbwI6kiDvMArrtRsPmyCPWmHKn6hKHyxjDkQCV%2ByQWfVZD26lm7qqpAuWSmo6xjx21oftjAP0v0INLzjwiOdKj5cs%2BJ7JTL3kP4JwnzEi0mgIQjaL6mQ6RPDt69BQQ8Db0h9ZnvwtnK9PUXoHLftZ3oOOUCfq7XPN23%2BgZShF8W9f8q%2BXOUHPe1MEZPzi%2BX3Js7cKaxG3ltC5z5p8vp%2FXBeoeWc8AO%2Bid2ZJa9%2B2X2JJ8%2B3bp1Y1OzzOB8lrl5mm1rUjr72iSLWknpgmw3WXAlk2DamsRqTOt4I59FbcW6JmLdtURitmLdDYt1ybclrkauu0zI5em58PUy4RreupMHnzwA7yQ8%2BMEDIXGdEFLIWTTgwqXli3xYbEuv4LxFFpliUgezvSKDS1NKuEuaYVSnoD2CYbRc4ha4xD6foDkgVkfGR17ADHAYBPzHtYEPGqz9bMEq4XufNR%2BnxDxksSd5NFOHTZZ3fWBAu7zfxvJ%2BhTWdCIWXkAFL5%2FJbscRcrQxYl6N%2BZy577SplwHd%2B%2FKlWCrDzKI48bDMIvbUMQh%2BB3f0%2B%2Bb6xJsEELB%2BcF%2Fz9MB%2FXORMI7bNg28RCbWKhtylo5D5NFu%2BqS8sZ%2FRI5Qz%2F%2BOzeNeQezsre841fiHYcoTi3vaHlHyzvO4qnIxREOyhwVpczDOpp50FPMvmuVii5gm%2F0%2BoCmbfA%2F%2FBw%3D%3D%3C%2Fdiagram%3E%3C%2Fmxfile%3E)

## Компромиссы

- Если в системе слишком простая структура вызовов - тогда гораздо проще добавить больше логов, чем настраивать трейсинг.
- Имеем дело с легаси кодом или проприетарной системой.
- Нет ресурсов, чтобы поддерживать инфрактрустуру для трейсов в данный момент.

## Безопасность

- Инфрактрустура для трейсов находится во внутренней сети компании. 
- В данных трейсов изначально нет чувствительной информации.
- доступ к трейсам только определенным категориям сотрудников.

