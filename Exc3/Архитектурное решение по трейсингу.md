## Мотивация

- При возникновении проблем с заказом тех. поддержка и разработчики быстрее смогут разобраться с проблемой - по трейсу будет понятно точное место возникновения проблемы.
- По трейсам можно составить мнение о производительности системы.
- Позволит не создавать лишние логи в системе, что сократит затраты на их хранение

## Предлагаемое решение

Предлагаю добавить сбор трейсов для всех основных систем, которые взаимодействуют с заказом. Для сбора использовать OpenTelemetry стек, данные сохранять в хранилище Jaeger и отображать в Jaeger UI.

[Диаграмма](https://viewer.diagrams.net/?tags=%7B%7D&lightbox=1&highlight=0000ff&edit=_blank&layers=1&nav=1&title=jewerly_c4_model.drawio#R%3Cmxfile%3E%3Cdiagram%20name%3D%22Page-1%22%20id%3D%22q5gKrhV2WKv8pvfnoQvh%22%3E7V1Zd9s2Fv41OmfmwT5cRFJ61OK06bEbJ0pm2keQgiQ6FMEBIUvqrx%2Bs3EmtlmSH9mljXqwELr67AWDHHC03v2EQLZ7QFAYdQ5tuOua4Yxi60TPpP4yyFRSnrwnCHPtTmSklTPx%2FoCSqbCt%2FCuNcRoJQQPwoT%2FRQGEKP5GgAY7TOZ5uhIN9qBOawRJh4IChT%2F%2BtPyUJQe4aT0n%2BH%2FnyhWtbtvkhZApVZvkm8AFO0zpDMh445wggR8ddyM4IBGzw1LqLcp5rUpGMYhqSiAHJf2HjQHAHw4IK%2BN8SFIev%2BCZbyNZ8eJpQyeP6skr5vI5k0QiEBfghxkgS9RYgCNJdTOuoYpkobw9jDfkR8FIrEO1ZtHPvzMKZ%2FIcx7Qf8I2f8iiAFBjGDTOuiUm0OWf7Jg02ZogR%2BzF0CzTMlcxhEIvFUACGS5I%2Bx7UGUnC6gKia4FwKWcybtEKwnoiA1n9MXYvJCtnGz7fyukEu5izooDmkG3o02aSP%2Bay395LW5KsOSIGpZKpLPhFgtQmmg5T576rwnJEpXxOaCV8V4ISjr0lG6NM3Vmy6uu4aZGDh0FvWkUZC0e7RvO1UKn68Fmv1VlrTzD5MataoyKr2lk1oPtjmdwMxw%2FvcydL87gYbTu%2FXmnJ%2BssWT%2FpixoYrcIpZOV1Wt164RM4iehioYQ1RTNKW5BlIJNZfyQ86eyZM9QQeD%2FnvJqRfPMQhZDl9oNglAyGaZgDY9yXtWToM%2F5D6SCgK4TSPLqYKctSAvZUa4zbY4LRT5gpqT0448GYpiwhAQ9Tn8huYkinDLj8FVnBCPkh4eveYnyl3bNBHmn8P8Y%2FI06sojllos6eVA15YhXNsaqq1CvaLtKMCmJllRVta4VOWuOEV7JgKUHwFWICNxmS5JbfIKIji%2Bk602SqZUogl7DXU5JsncoFoytpi6xMUBIASPydJ3WncE3%2FkCyqHiWAHwPmMI6pXGKg%2BHUFV%2FAITP8GXNcnT19rcX0CwymTcmlTwEUr1sUQrjN4PWLFFyAUeTg2xwSQVcyfXUjWEIZCfoseyTILwNJjSOcHBFzoR74Xfwwst8GSgUvoxpFqqwX2w4DdaAR2qmpxTve2gU8RHpsMQSWaWny0MF1OgpdjyrWL3fDvClnx6CpCKjy0k6SBQnnjEOmwtzgowf%2F5Qf3cUF2UYGeAbr3bzWO33b1V7P7MZjiERKjB0RHQ%2FR8G%2BAxCWZkJX4PyeYEhfIlrIf1HzCrVPBBy8%2BUn06D531KNZnWsogABBvwmR39h7rGENcI%2F2aINVRqkTIg%2BiPLdAvbJgG3uBdjLzZy5Ee697v0aukNmvkOccLzxxjBdQlVd7w1G4wYAry%2BRSTEKEH006rfYXqWWG3loN%2Bx9od2%2BtFrOfCyHa%2BIQeBLACS0VS0CvwfAIo1d%2FCjkSU6aZAe4SIYi%2FJvPCNDlhRtxLVe97aaG8hXIK5d0WylsofxMoL3hYdM25HJaXHOzVdqdy5qcMD6dzOJGPCJMFmqMQBA8ptcC4aZ5HRBV8wQAvkJCt5CSwonidWwq1Y0uNV%2BzBhv5aIh8BeA7JrjXNlPZcNKQ8UxgGgPiv%2BeDIAYN%2BmMT8ImVTWWw%2B02IM3GrE4HdqvSTxBmWWCBNlxI2bcEVFI1lhnusFriEOth01ue9Zxr0T8eXxn6uIL6tRfDV4%2FKcgXiSruEp4FUSL1jM%2FOVaVaNFsU7dGDfKiQohGnOONcwqTm%2FDZv5Uw6eVlSb%2FKLNCqREnvwmbBaBUT2sLhIJdbJkJThxvmPeIOc8Ev9y2ifXxEsy%2BFaPbI7jpOFaJ1x%2By3RbQLIpph3Sqi8W0k2ipuMa3FtGMxzWkx7RfENEe7HKaVDf7HH8O%2FiPUP%2FjG6G5Dnx2%2BfP2%2FuzGvY%2B3Djk79Y8XtLPv2dSRlvZM38YZt5oODq01Fg7CZoIR0RUZFhqee%2Fs4lpXfxpm30q1na8F6JX4YWoGmz93F4IWfSZrbWU6fTEXaSMg26Bm0RPZbECQyX9ON2%2FISK8R267nETYD%2BdDtn%2B0TpqyPZJpRCDr0o9FyxQdl8VNlRh6kI5tnIhwbQ5D5oehHM08Kh0VBebPPNZLIRUWaonBq4hCzBBeAinP1RYh5ZaZYbRkPU8sIC7hI7Y34zVb4fsX%2BO0WzmMVgV6jItBu4cwK%2B3YLZ7O20dcLJlSvQt24iW1Ao29PR4iE3NafHZHiCktrDSnSaa4I1XUyezKZVEAM4j9R3oxQGPuuH%2Fhk%2BwEssTYmfBaU7jeidBsTbmPCR0J2MSacPN%2Fc9h4O2W%2Bny1fg9a%2BCz63ifAwk61ojJreac6s5H7CDXusXcLgq%2BnATqrN0qoyHR%2BDwM4rJHMPJ18daHP6dNs98I0vAN5VUOzjkbvi1T4cm9W%2FwU1L82JRPsqdhP5ifo1WnT8fu5oOrDeebjLqwR3uW6WMoxHpXu54TY79NknT%2BrxE0SYMdet%2FuZKId%2Br2m9ToXjXgoR9POjZf62WMeNTO559RdJ96VTF122mT067phqvcwZ91feM7MPeesd1tTZl8ZIR3bySHkMZOWRqmd08LUMZ09MmCX9TC9IGAHlTxF%2FuQHp%2B%2BC3xuNjdviEufKXGLrOS6506gg7R7DKm8%2Fw%2B9zgntXnmDrZBA4fsq6%2B0rbC03ZYV6GP5IzIxOCMNvqMNnGBC7LTgdBn3gogkM2dUD2gmYaRFHgeyBzqwqakTUoVXcJj0DG0K6olRon5E6abqzaAM5IjWVc9itUWO%2BHehuO75J0UGSHutEFsds2b4515f2qRcfpDss82bzIHlIvKDfqs4Z3XUTL5j9l61v87LTtlW3Oh9IcMqOUjlkwkGQXEYKWSS3cfVXsEX01P5x%2F51CkpYSOdOWyF3wGhO3opSQKf1yeFN24iACSdeNmMIdd3ALCeQAzQDQM0aNcIYn%2F4hlMp6Jdjb9YgNYDdR0go8j7AjOtwE3EnHPigTazwjFFk29QOlZ4FtpHWSJxSED88AqFX4K35MYoWBE4SF3YVa6L1hGdQ9YD4oFF74dplbwfenLnYs79odnWZfwfiQi8CYPMuLBF5tyYXN9zzq7ss7qqEd3fd8q025qzX9lZZe85Z%2BZtTZlktVcQrKDSaC8%2Fh3vaozCcqkxSv6EUmX7a7Bn7Hsy%2F2JI7zPxJtn3zWxqpBcSuUT483jox71wQ843khUpKcVeWzlvLN81utiELwIN4%2FLIyF%2FI%2F5cXA08sZUO0OmFuLohrNR%2F3bHTCt4XHA3vGC4eHcXNjVuHJQ4arq0N4OYOvc8pQXpWoC2GYyyHWX1lw4gmZbeW7qmVqBHUSNex4725NBrh1POMMhxDToZJwWdDqe1fYNE78Rq5V4qe%2FkealrFgBHvFHpNGPFuUhHu9d6eZjra%2Fd9O19fzenIQ9dAv3AKU21seds10CsZIOI0Y5xqlRVrRPoXs3xdktlFd%2BnSn07FEmoUytXyqXEBl6RW8v0T2Uon%2B4mRKml2p92bjtrsIcdfBcdOZMe7PANRC8bIV4Fmsxi%2B7blaWu6IyyfEdWPcrpA7NzM3H9MBnvl4KbZ%2BquvDmIeZfVQGd9QnR9JbL96zzfFObIsr3k9hNu%2Bub68Ru7Duf6ELKrpVWv%2FFLqioZMRfOtigVJ2dylj%2F3LrYWdxo4rNbU7csqs55VKHhEgZ567M4jyBuiF7yaGb5dmh5dCHz9RZ5fYN4idzNDe9d%2FrXHGM4jJI1GIbnrMy3tMYaPfIxBbVtOLnve%2B%2BL%2BSznUzCvHF7O7LaVTLd22e1tuNdM4t3ytcVGYBYVM14vejjN5J3Stb%2BRa6vdz7ondBXRdOhuOdGjso0qkCsM3PrAojBd%2BVKsRfAoQ%2FzjbrKQV%2FEsKc3Z3E0H%2F7jTchX3qHsHDapEAu6c2UCvPqpSCA4VZ83cPMrFiN0Dez%2B8LP%2BzUhpC0smjpauw3kSTqa7MyDp2JSpckTc9gvyxf4PIOKE9UWfjQmlQXuh0Z8M4SXlbLSOEbwJ6iyBx2Cd9242Et9uyECrmutHvdVEhcJRpORJTC52NoW0d6Tw17V001yJTWdIqH7KQz018iGH6HAVxy8SE0yYCWr7p6f6dl8geAc34nRWrXlIBoJOpnVkTatmh6Cgj4GBZEG7XfhbO1l0DeQNB%2B1vOg51Wp%2BruC827P6lpaGXzb4PybXU%2BhF%2BKp%2FQt%2BnHe%2Fi2SNK9sS17z%2FtcqKuNz9rwdr%2FkYhoNrvnTkwWfXu1znEe%2F6Lhp2rMlqVO%2FginHaeQ2VKc%2FpxzCViFaXLn%2B1ecAOQYNqb1KdL6%2Fggn%2FdrVa5jVK5b2SfZqlzvWOVKb1W%2FGZ3rOhsizy9TLyVSGyTlTol69s1u9YyA2T2ZGeWL7W144p8iNx%2F%2BDw%3D%3D%3C%2Fdiagram%3E%3C%2Fmxfile%3E)

## Компромиссы

- Если в системе слишком простая структура вызовов - тогда гораздо проще добавить больше логов, чем настраивать трейсинг.
- Имеем дело с легаси кодом или проприетарной системой.
- Нет ресурсов, чтобы поддерживать инфрактрустуру для трейсов в данный момент.

## Безопасность

- Инфрактрустура для трейсов находится во внутренней сети компании. 
- В данных трейсов изначально нет чувствительной информации.
- доступ к трейсам только определенным категориям сотрудников.

